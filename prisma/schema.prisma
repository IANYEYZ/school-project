generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url = env("DATABASE_URL")
}

model Class {
  id        String    @id @default(cuid())
  name      String
  createdAt DateTime  @default(now())
  scores    Score[]
}

model Score {
  id        String    @id @default(cuid())
  classId   String
  class     Class     @relation(fields: [classId], references: [id])

  date      DateTime  // Only date (YYYY-MM-DD)
  period    ScorePeriod
  value     Int
  note      String?   // Optional note for this score

  createdAt DateTime  @default(now())

  @@unique([classId, date, period]) // one score per period per day
}

enum ScorePeriod {
  NOON
  AFTER_SCHOOL
}
